---
import { Icon } from "astro-icon";
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import { Image } from 'astro:assets';
import QuickForm from "@components/contactFast.astro";
import LottieAnimation from "astro-integration-lottie/Lottie.astro";
import Link from "@components/ui/link.astro";
import lost from "@assets/cheerStatic/lostCoffee.png";
import stars from "@assets/cheerStatic/smallStars.png";
---
<div class="bg-orange-50">
<Layout title="Availability">
  <Container>
    
    <div class="w-full h-72 md:h-[22rem] mt-14 md:mt-28">
      <video class=" w-full h-full z-20 object-contain rounded-lg" autoplay muted playsinline loop>
        <source src="cheervideo/club.webm" type="video/webm">
        Your browser does not support the video tag.
    </video>
    </div>

    <div class="h-20 w-full mt-2 md:mt-10 flex justify-center items-center relative">
      <h1 class="text-5xl md:text-7xl text-dark">Looking to get in the <span style="text-shadow:1px 1px 2px black;"class="text-second-color textFade">club?</span></h1>
      <div class="absolute top-10 md:top-[-7rem] right-10 md:right-28 w-20 h-20 md:w-28 md:h-28 rotate-12">
        <Image
        class="object-contain h-full w-full drop-shadow-lg"
        src={stars}
        alt="stars"
        loading="eager"
        format="avif"
      />
      </div>

    </div>

    <div class="my-28">

    </div>
    
    <div class="h-fit w-full flex-col md:flex-row flex p-1 gap-3">
      <div class="w-full md:w-2/3">
        <h2 class="text-4xl md:text-5xl text-second-color">Let's check the List.</h2>
        <p class="mt-5"> Our commitment to quality work and ensuring satisfaction is top priority. With that being said, we choose to partner with only a select few clients at any given time.
          If you're selected plan is full it's <b>advised to join the waitlist.</b> By joining the waitlist, you secure your spot in queue and maintain the current rate at that time. <br><br> 
         
          With rates subject to quarterly increases, it's wise to lock in your rate now.<br><b> No payment or commitment required!</b>
        </p>
      </div>

      <div class="w-full md:w-1/3 h-full">
        <Image
        class="object-contain h-full"
        src={lost}
        alt="hand pointer"
        loading="eager"
        format="avif"
      />
      </div>
    </div>

    <div class="w-full h-10 flex flex-col justify-center items-center ml-2 mt-40 md:mt-20 relative">
      <h1 class="text-5xl text-dark">Current Availability</h1>
      <div class="flex flex-row w-full h-8 md:justify-center items-center mb-28 md:mb-2">
        <h3 class="pt-1 text-base italic text-gray-800">as of  {new Date().getMonth()+1}/{new Date().getDate()}</h3>
        <div id="iconContainer" class=" my-10 h-12 w-12 z-20">
          <LottieAnimation src="cheerlottie/pulseCircle.json"  autoplay="visible" />
      </div>
      </div>


    </div>

    <div class="h-[1290px] md:h-[27rem] w-full flex-col md:flex-row flex p-2 md:p-10 gap-8 ">
      <div id="planPanel" class="h-full w-full rounded-xl p-6 flex flex-col gap-3 bg-contrast-color relative">
        
        <div class="absolute top-[1rem] right-10 w-20 h-20 rotate-12">
          <div id="iconContainer" class="h-full w-full z-20">
            <LottieAnimation src="cheerlottie/cogWheel.json"  autoplay="visible" />
        </div>
        </div>
        <span ><p class="text-dark">The</p></span>
        <h3 class="markerText !mt-[-20px] text-3xl text-dark">Part-Timer</h3>
        <span class="w-full block rounded-xl p-1 bg-dark "></span>
        <p class="leading-tight">Our limited plan. Offering assistance to maintain the gears with static development.</p>
        <div class="bg-dark text-sm border-2 border-black 
        rounded-2xl my-2 text-center text-[#808080]" id="slots-available-bar"> 
          0 Slots Available
        </div>
        <div id="mainPlanCTA">
          <Link
            href=""
            id=""
            style="outline"
            target="_blank"
            class="flex gap-1 text-dark bg-font-white border-dark font-bold items-center justify-center outlineButton"
            rel="noopener">
            Join Waitlist
        </Link>
        </div>
      </div>
      <div id="planPanel" class="h-full w-full rounded-xl p-6 flex flex-col gap-3 bg-prime-color relative">
        <div class="absolute top-[1rem] right-5 w-20 h-20">
          <div id="iconContainer" class="h-full w-full z-20">
            <LottieAnimation src="cheerlottie/Shield.json"  autoplay="visible" />
        </div>
        </div>
        
        <span ><p class="text-dark">The</p></span>
        <h3 class="markerText !mt-[-20px] text-3xl text-dark">Core Standard</h3>
        <span class="w-full block rounded-xl p-1 bg-dark "></span>
        <p class="leading-tight">Our core plan. Offering an impressive range of services and full development support.</p>
        <div class="bg-dark text-sm border-2 border-black 
        rounded-2xl text-[#79f379] my-2 text-center" id="slots-available-bar"> 
          1 Slot Available
        </div>
        <div id="mainPlanCTA">
          <Link
            href="/#planSection"
            id=""
            style="outline"
            target=""
            class="flex gap-1 text-dark bg-font-white border-dark font-bold items-center justify-center outlineButton"
            rel="noopener">
            More Details
        </Link>
        </div>
      </div>

      <div id="planPanel" class="h-full w-full rounded-xl p-6 flex flex-col gap-3 bg-second-color relative">
        <div class="absolute top-[-1px] right-12 w-24 h-24 ">
          <div id="iconContainer" class="h-full w-full z-20">
            <LottieAnimation src="cheerlottie/starsOutline.json"  autoplay="visible" />
        </div>
        </div>
        
        <span ><p class="text-dark">The</p></span>
        <h3 class="markerText !mt-[-20px] text-3xl text-dark">Deluxe Deal</h3>
        <span class="w-full block rounded-xl p-1 bg-dark "></span>
        <p class="leading-tight">Our premium plan. Full access to all services, branding, & fastest turnaround.</p>
        <div class="bg-dark text-sm border-2 border-black
        rounded-2xl my-2 text-[#808080] text-center" id="slots-available-bar"> 
          0 Slots Available
        </div>
        <div id="mainPlanCTA">
          <Link
            href=""
            id=""
            style="outline"
            target="_blank"
            class="flex gap-1 text-dark bg-font-white border-dark font-bold items-center justify-center outlineButton"
            rel="noopener">
            Join Waitlist
        </Link>
        </div>
      </div>
    </div>
    
    <div class="z-40 absolute">
      <QuickForm />
    </div>


    <div class="w-full flex justify-center items-center gap-2 md:gap-10 md:flex-row flex-col">
      <Link
      href="/"
      id=""
      style="outline"
      class="outlineButton flex gap-1 m-2 mt-20 md:mt-14 mb-1 md:mb-40 rounded-full w-56 md:w-80 text-xl  h-20 md:h-28 text-font-white bg-zinc-900 border-dark hover:bg-font-white hover:text-dark items-center justify-center"
      rel="noopener">
      Return Home
    </Link>
    <Link
    href="/#planSection"
    id=""
    style="outline"
    class="outlineButton flex gap-1 m-2 mt-10 md:mt-14 mb-40 rounded-full w-56 md:w-80 text-xl  h-20 md:h-28 text-font-white bg-second-color border-dark hover:bg-font-white hover:text-dark items-center justify-center"
    rel="noopener">
    See Plans
  </Link>
    </div>
  </Container>
</Layout>
</div>

<script is:inline>
  const mainPlanCTAs = document.querySelectorAll('#mainPlanCTA');

  mainPlanCTAs.forEach(itemCta => {
    const linkElement = itemCta.querySelector('a');
    const textContent = linkElement.textContent.trim();

    if (textContent.includes("Waitlist")) {
      itemCta.addEventListener("click", function(event) {
          document.getElementById('fastForm').classList.remove('hidden');
          event.preventDefault();
      });
      itemCta.setAttribute("id", "openFastFormButton");
      
    }

});

document.getElementById('closeFastFormButton').addEventListener('click', function() {
document.getElementById('fastForm').classList.add('hidden');

});
</script>